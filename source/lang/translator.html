<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        textarea {
            width: 47%;
            height: 80%;
        }

        body {
            height: 100%;
            padding-top: 5rem;
            margin: 0;
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>

<body>
    <textarea name="j" id="j" cols="30" rows="10" style="width: 100%;"></textarea>
    <textarea name="original" id="original" cols="30" rows="10"></textarea>
    <textarea name="translate" id="translate" cols="30" rows="10"></textarea>
    <button id="append">Append</button>
    <input type="text" id="lang">
    <textarea id="json"></textarea>
    <script>
        var json;
        document.getElementById("j").onchange = function () {
            json = JSON.parse(document.getElementById("j").value);
            for (var key in json) {
                document.getElementById("original").innerHTML += json[key].definition + '\n\n';
            }
        }

        document.getElementById("append").onclick = function () {
            var lang = document.getElementById("lang").value;
            var translated = document.getElementById("translate").value;
            translated = translated.split('\n\n');
            console.log(translated);
            for (var key in json) {
                json[key][lang] = translated.shift();
            }
            document.getElementById("json").innerHTML = JSON.stringify(json);
        }

        // add all definition in json to the orginal
        // for (var key in json) {
        //     for (var key2 in json[key]) {
        //         document.getElementById("original").innerHTML += json[key][key2].definition + '\n\n';
        //     }
        // }
        // document.getElementById("append").onclick = function() {
        //     var lang = document.getElementById("lang").value;
        //     var translated = document.getElementById("translate").value;
        //     translated = translated.split('\n\n');
        //     console.log(translated);
        //     for (var key in json) {
        //         for (var key2 in json[key]) {
        //             json[key][key2][lang] = translated.shift();
        //         }
        //     }
        //     document.getElementById("json").innerHTML = JSON.stringify(json);
        // }
        // For source.json

    </script>
</body>

</html>