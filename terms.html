<!DOCTYPE html>
<html>

<head>
    <meta name="robots" content="noindex">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Terminology</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.png" type="image/png">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <!-- Clarity tracking code for https://musicterms.github.io/ -->
    <script>    (function (c, l, a, r, i, t, y) { c[a] = c[a] || function () { (c[a].q = c[a].q || []).push(arguments) }; t = l.createElement(r); t.async = 1; t.src = "https://www.clarity.ms/tag/" + i + "?ref=bwt"; y = l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t, y); })(window, document, "clarity", "script", "krayfeinxp");</script>
    <style>
        html {
            overflow: auto;
            overflow-x: hidden;
        }

        nav {
            padding: .7rem 0;
        }

        h2#intrusct {
            margin-top: 10rem !important;
        }

        #terms {
            padding: 35px;
            max-width: 1000px;
            min-width: 200px;
            user-select: text;
            width: 80%;
            -webkit-user-select: text;
            transition: opacity .3s;
            opacity: 0;
            margin: 0 auto;
            margin-bottom: 5rem !important;
        }
    </style>
</head>

<body>
    <nav>
        <font id="nav-text">User Argreement</font>
        <icon data-icon="arrow_back_ios" class="none"></icon>
    </nav>
    <h2 class="center margin-4" id="intrusct"></h2>
    <button class="mid-btn" id="hos" onclick="location.href = '/app/?add_to_home_screen'">Or Add to <span
            class="nowrap">Home Screen</span></button>
    </div>
    <div id="terms"></div>
    <script>

    </script>
    <script src="/js/index.js"></script>
    <script src="/js/events.js"></script>
    <script src="/js/icon.js"></script>
    <script src="https://alphabrate.github.io/trueview/markdown.js"></script>
    <script>
        var localstorage = window.localStorage;
        var lang = localstorage.getItem('language');
        if (lang == null || lang == 'en') {
            lang = '';
        }
        if (lang != '') {
            lang = "." + lang;
        }

        var urlPrivacy = '/terms/privacy' + lang + '.md';
        var urlConditions = '/terms/conditions' + lang + '.md';

        var agree = 'I Agree.';
        var back = 'Go Back.'
        var l = {
            "I Agree.": {
                ".zh": "我同意",
                ".zh-CN": "我同意",
                "": "I Agree."
            },
            "Go Back.": {
                ".zh": "返回",
                ".zh-CN": "返回",
                "": "Go Back."
            },
            "Intrusction": {
                "": `By using this Web App, you agree with our <span
                    class="nowrap">Privacy Terms</span> & <span class="nowrap">Terms of Service</span>:`,
                ".zh": `使用此網頁應用程式即表示您同意我們的<span class="nowrap">隱私權條款</span>和<span
                     class="nowrap">服務條款</span>`,
                ".zh-CN": `使用此网页应用程序即表示您同意我们的<span class="nowrap">隐私条款</span>和<span
                    class="nowrap">服务条款</span>`,
            },
            "hos": {
                "": "Or Add to <span class=\"nowrap\">Home Screen</span>",
                ".zh": "或添加到<span class=\"nowrap\">主屏幕</span>",
                ".zh-CN": "或添加到<span class=\"nowrap\">主屏幕</span>",
            }
        }
        agree = l[agree][lang];
        back = l[back][lang];
        document.getElementById('intrusct').innerHTML = l['Intrusction'][lang];
        document.getElementById('hos').innerHTML = l['hos'][lang];

        function one() {
            document.getElementById('terms').style.opacity = 0;
            document.body.scrollTop = 0;
            fetch(urlPrivacy)
                .then(response => response.text())
                .then(text => {
                    setTimeout(() => {
                        document.getElementById('terms').innerHTML = marked.parse(text);
                        document.getElementById('terms').innerHTML += `<button class="mid-btn nowrap" onclick="two()">${agree}</button>`
                        document.getElementById('terms').style.opacity = 1;
                    }, 300)
                });
        }

        function two() {
            document.getElementById('terms').style.opacity = 0;
            document.body.scrollTop = 0;
            fetch(urlConditions)
                .then(response => response.text())
                .then(text => {
                    document.getElementById('terms').innerHTML = `<button class="mid-btn nowrap" onclick="one()">${back}</button>` + marked.parse(text);
                    document.getElementById('terms').innerHTML += `<button class="mid-btn nowrap" onclick="one()">${back}</button><button class="mid-btn nowrap" onclick="done()">${agree}</button>`
                    document.getElementById('terms').style.opacity = 1;
                });
        }

        function done() {
            document.getElementById('terms').style.opacity = 0;
            setTimeout(() => {
                localstorage.setItem('agreed', 'true');
                window.location.href = '/app/index.html?redirect=no-delay';
            }, 400);

        }

        one();
    </script>
</body>

</html>